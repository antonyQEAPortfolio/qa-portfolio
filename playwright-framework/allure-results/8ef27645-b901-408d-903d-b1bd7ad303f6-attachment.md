# Test info

- Name: @API Place the order
- Location: C:\Users\anton\OneDrive\Documents\GitHub\qa-portfolio\playwright-framework\tests\createOrderThroughApi.spec.js:15:1

# Error details

```
Error: page.goto: net::ERR_NETWORK_CHANGED at https://rahulshettyacademy.com/client
Call log:
  - navigating to "https://rahulshettyacademy.com/client", waiting until "load"

    at C:\Users\anton\OneDrive\Documents\GitHub\qa-portfolio\playwright-framework\tests\createOrderThroughApi.spec.js:21:16
```

# Page snapshot

```yaml
- heading "Your connection was interrupted" [level=1]
- paragraph: A network change was detected.
- text: ERR_NETWORK_CHANGED
- button "Reload"
```

# Test source

```ts
   1 | const {test, expect, request} = require('@playwright/test');
   2 | const { ApiUtils } = require('../utils/ApiUtils.js');
   3 | const loginPayLoad = {userEmail:"antony.sagayaraj7@gmail.com",userPassword:"India@1947."};
   4 | const orderPayLoad = {orders:[{country:"Cuba",productOrderedId:"67a8dde5c0d3e6622a297cc8"}]};
   5 |
   6 | let response;
   7 | test.beforeAll( async()=>
   8 | {
   9 |    const apiContext = await request.newContext();
  10 |    const apiUtils = new ApiUtils(apiContext,loginPayLoad);
  11 |    response =  await apiUtils.createOrder(orderPayLoad);
  12 |  
  13 | }) 
  14 | //create order is success
  15 | test('@API Place the order', async ({page})=>
  16 | { 
  17 |     page.addInitScript(value => {
  18 |     window.localStorage.setItem('token',value);
  19 |     }, response.token );
  20 |     await page.reload();
> 21 |     await page.goto("https://rahulshettyacademy.com/client");
     |                ^ Error: page.goto: net::ERR_NETWORK_CHANGED at https://rahulshettyacademy.com/client
  22 |     await page.locator("button[routerlink*='myorders']").click();
  23 |     await page.locator("tbody").waitFor();
  24 |     const rows = await page.locator("tbody tr"); 
  25 |     for(let i =0; i<await rows.count(); ++i)
  26 |     {
  27 |    const rowOrderId =await rows.nth(i).locator("th").textContent();
  28 |    if (response.orderId.includes(rowOrderId))
  29 |    {
  30 |        await rows.nth(i).locator("button").first().click();
  31 |        break;
  32 |    }
  33 |     }
  34 |     const orderIdDetails =await page.locator(".col-text").textContent();
  35 |     expect(response.orderId.includes(orderIdDetails)).toBeTruthy();
  36 |  
  37 | });
```